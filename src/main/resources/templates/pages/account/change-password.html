<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Đổi mật khẩu</title>
    <!-- base:css -->
    <link rel="stylesheet" th:href="@{../../admin/vendors/mdi/css/materialdesignicons.min.css}">
    <link rel="stylesheet" th:href="@{../../admin/vendors/css/vendor.bundle.base.css}">
    <!-- endinject -->
    <!-- inject:css -->
    <link rel="stylesheet" th:href="@{../../admin/css/style.css}">
    <!-- endinject -->
    <link rel="shortcut icon" th:href="@{../../admin/images/favicon.png}" />
</head>

<body>
    <div class="container-scroller d-flex">
        <!-- partial:../../partials/_sidebar.html -->
        <div class="offcanvas offcanvas-start" id="sidebarOffcanvas" th:insert="../templates/pages/sidebar.html"></div>
        <!-- partial -->
        <div class="container-fluid page-body-wrapper">
            <!-- partial:./partials/_navbar.html -->
            <div th:insert="../templates/pages/navbar.html"></div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-6 offset-lg-3 col-md-10 offset-md-1 col-12">
                        <div class="register-form">
                            <h1 style="text-align: center;" class="title"><strong>Đổi mật khẩu</strong></h1>
                            <!--missing id of form-->
                            <form class="row" action="/account/changepassword" id="changepassword" method="post" th:object="${user}">
                                <div class="col-sm-12">
                                    <div class="form-group">
                                        <label for="username" class="required">Tên đăng nhập</label>
                                        <input th:value="*{username}" class="form-control" type="text" id="username"
                                            name="username" readonly>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label for="password" class="required">Mật khẩu</label>
                                        <input class="form-control" type="password" id="password" name="password">
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label for="repassword" class="required">Xác thực mật khẩu</label>
                                        <input class="form-control" type="password" id="repassword" name="repassword">
                                    </div>
                                </div>
                                <div class="button">
                                    <button class="btn btn-outline-secondary" onclick="changepassword('changepassword')" type="button" >Change Password</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        function changepassword(formId) {
            let password = document.getElementById("password").value;
            let repassword = document.getElementById("repassword").value;
            if (password.length < 8) {
                alert("Password must be at least 8 characters!");
                return;
            }
            if (password !== repassword) {
                alert("Re-password not match!");
                return;
            }
            var form = document.getElementById(formId);
            form.submit();
        }
    </script>
    <script th:src="@{../admin/vendors/js/vendor.bundle.base.js}"></script>
    <!-- endinject -->
    <!-- Plugin js for this page-->
    <script src="../admin/js/jquery.cookie.js" type="text/javascript"></script>
    <!-- End plugin js for this page-->
    <!-- inject:js -->
    <script src="../admin/js/off-canvas.js"></script>
    <script src="../admin/js/hoverable-collapse.js"></script>
    <script src="../admin/js/template.js"></script>
</body>

</html>